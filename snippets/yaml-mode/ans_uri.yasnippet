# -*- mode: snippet -*-
# name: ans_uri
# key: uri
# --

# https://docs.ansible.com/ansible/latest/modules/uri_module.html#examples
- name: ${1:Type}* ${2:http verb} ${2:domain}/${3:pathname}
  uri:
    url: https://$2/$3
    method: ${2:$(upcase yas-text)}
    body_format: form-urlencoded
    body:
      ${3:key}: ${4:value}
    headers:
      Private-Token: "{{ sysad_gitlab_token }}"
    status_code: 200
  register: ${5:cache_var}
  tags:
    - $1_debug